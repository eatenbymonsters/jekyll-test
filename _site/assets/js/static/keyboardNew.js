var UltimaSynth=function(e){function t(e){d.frequency.value=e,y.frequency.value=e/v,h.gain.value=1}function n(){h.gain.value=0}function a(e){f.gain.value=e}function s(e){E.gain.value=e}function o(e){w.gain.value=e}function c(e){console.log(e),g=l(e),console.log(g),d.type=g}function r(e){m=l(e),y.type=m}function i(e,t){switch(console.log("the "+e+" control has been set to "+t),e){case"masterVolume":a(t);break;case"oscOneVolume":s(t);break;case"oscTwoVolume":o(t);break;case"oscOneWave":c(t);break;case"oscTwoWave":r(t);break;case"vcoTwoPitch":vcoTwoPitch(t)}}function l(e){var t=parseInt(e);switch(t){case 0:stringWaveValue="sine";break;case 1:stringWaveValue="square";break;case 2:stringWaveValue="sawtooth";break;case 3:stringWaveValue="triangle"}return stringWaveValue}var u=new e,v=2,g="sine",m="square",d=u.createOscillator();d.type=g,d.frequency.value=440,d.start(0);var y=u.createOscillator();y.type=m,y.frequency.value=440,y.start(0);var h=u.createGain();h.gain.value=0;var E=u.createGain();E.gain.value=1;var w=u.createGain();w.gain.value=1;var f=u.createGain();f.gain.value=.1,d.connect(E),E.connect(h),y.connect(w),w.connect(h),h.connect(f),f.connect(u.destination);var p={controlChanged:i,noteStart:t,noteEnd:n};return p},UltimaSynthInputs=function(e,t){function n(){d=!0;var e=this.getAttribute("data-pitch");newSynth.noteStart(e)}function a(){if(d){var e=this.getAttribute("data-pitch");newSynth.noteStart(e)}}function s(){d&&newSynth.noteEnd()}function o(){d=!1,newSynth.noteEnd()}function c(){var e=this.value,t=this.getAttribute("data-controlName");newSynth.controlChanged(t,e)}for(var r=t.getElementsByClassName("synthKey"),i=e.getElementsByClassName("masterVolume"),l=e.getElementsByClassName("oscOneVolume"),u=e.getElementsByClassName("oscTwoVolume"),v=e.getElementsByClassName("oscOneWave"),g=e.getElementsByClassName("oscTwoWave"),m=e.getElementsByClassName("oscTwoPitch"),d=!1,y=document.getElementById("testOutput"),h=(y.getElementsByClassName("noteDisplay"),y.getElementsByClassName("volumeDisplay"),0);h<r.length;h++)r[h].addEventListener("mousedown",n,!1),r[h].addEventListener("mouseover",a,!1),r[h].addEventListener("mouseout",s,!1),r[h].addEventListener("mouseup",o,!1);i[0].addEventListener("change",c,!1),l[0].addEventListener("change",c,!1),u[0].addEventListener("change",c,!1),v[0].addEventListener("change",c,!1),g[0].addEventListener("change",c,!1),m[0].addEventListener("change",c,!1)},controlsWrapper=document.getElementById("synthControls"),keysWrapper=document.getElementById("synthKeys"),contextClass=window.AudioContext||window.webkitAudioContext;if(contextClass)var newSynth=UltimaSynth(contextClass),newSynthInputs=UltimaSynthInputs(controlsWrapper,keysWrapper);